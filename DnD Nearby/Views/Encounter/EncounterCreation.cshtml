@model EncounterCreationPage
@using Microsoft.AspNetCore.Identity
@using System.Security.Claims
@{
    StatBlockCollectionPartialPage statPartialPage = new StatBlockCollectionPartialPage(ref Model.creatureIDs, Model.statCollection);
    PlayerPartialMakerPage playerPartialPage = new PlayerPartialMakerPage(ref Model.creatureIDs);
}

<form asp-controller="Encounter" asp-action="CreateEncounter">
    <input hidden asp-for="encounter.accountId" value="@User.FindFirstValue(ClaimTypes.NameIdentifier)" placeholder="username" />
    <br />
    <label for="encounter.enconterName">Name of Encounter</label>
    <input asp-for="encounter.encounterName" placeholder="Name" />
    @{
        for (var i = 0; i < Model.creatureIDs.Count(); i++)
        {
            <input hidden asp-for="CreatureIDs[i]" value="@Model.CreatureIDs[i]" />
        }
    }

    <input type="submit" value="Create Encounter" />
</form>
<div class="row justify-content-center">

    <div class="col-6 jumbotron justify-content-center pre-scrollable text-dark text-center style-Boi">
        <partial name="/Views/Encounter/_StatBlockCollectionPartial.cshtml" for="@statPartialPage" />
    </div>
    <div class="col-6 jumbotron justify-content-center pre-scrollable text-dark text-center style-Boi">

        <partial name="/Views/Encounter/_PlayerCharacterMakerPartial.cshtml" for="@playerPartialPage">
    </div>
    <h2 class="text-center">@Model.displayString</h2>
</div>

